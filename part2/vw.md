# 最简单的移动端适配方案(rem+vw)--没有之一

rem 这个单位对于前端来说并不陌生了,在移动端适配方面,我们经常会用到它,通常我们会采用类似淘宝flexible.js 的方案, 写px,然后通过插件转化成rem,然后得出一堆小数值的rem单位.淘宝这个方案已经用了很多年,兼容性很好,然而现在已经2018年了,许多兼容性问题现在不再那么头疼了,因此我们现在有了更好的适配方案.
在很早以前,vw 这个单位就已经被列入w3c规范了,如果基本都支持了,vw 表示屏幕的1%,可能有人会问到那跟百分比有什么区别呢? 通常,很多情况确实可以被百分比替代,但是要知道百分比如果要子n代元素都生效,那得所有父级元素都得相对html,body 100%宽才能有作用,而vw则永远相对 屏幕1%.说了vw的含义来说说怎么结合rem适配吧.
这里直接给出结果,只需一行代码即可
```
html{font-size:13.33333333vw}
```
然后我们即可根据设计稿(前提设计稿是750px的),这样我们写1rem即为设计稿上的100px

注意:应设置meta为移动端
```
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
```
是不感觉很诧异,写的width:1rem,heigth:1rem的div 就是50px* 50px (iphone6为2倍屏,即对应750px设计稿上的100px*100px) 怎么搞定的,1句代码就能实现,太神奇.不信可以看看上图或者自己试一下.恩,就是这么简单,1句css代码就搞定,无需任何的js代码.

下面分析下原理吧, 上面我们说了vw表示1%的屏幕宽度,而我们的设计稿通常是750px的,屏幕一共是100vw,对应750px,那么1px就是0.1333333vw, 为了方便计算,我们放大100倍,同时我们知道另一个单位rem,rem是相对html元素,为了方便计算,我们取html是100px,通过上面的计算结果1px是0.13333333vw,那么100px就是13.333333vw了.这样后面的用rem就很好计算了,这样就得到13.3333333vw对应100px(750px的 设计稿),然后我们就可以很愉快的写rem单位了, 由于倍率是100,我们也不需要啥计算插件之类的了,除以100,直接小数点向左移动2位,1rem是100px,那么10px就是0.1rem,1px就是0.01rem,小学生都会算了, 不需要用postcss-px-to-viewport这种工具转成一堆小数位特长的rem单位了,而且这个很方便,直接写rem,并不需要转换,用了转换工具 如果想写px的地方还得设置白名单或者黑名单,这个就不存在这种问题了, 想用相对的就rem,想绝对的就直接写px即可,并不需要其他的各种设置.是不是很简单?
  
   改进版:经过一些实践,发现此方案只能兼容手机,甚至连ipad兼容都不好,当然,此处的兼容不是兼容问题,是效果问题,只要兼容vw的设备都能用这个方案,但是由于适配的根本是vw这个, 这个会随着设备的宽度越来越大,那么用rem做单位的元素也会越来越大,以至于如果这个在pc上,那么没法预览了,效果会很差,字太大了.这样我们可以设置一下当屏幕过大的时候的情况,我们可以加一句代码
```
@media (min-width: 560px) {
      html {
        font-size: 54px;
      }
    }
```
加上这句代码,在pc上效果也很不错了, 哈哈,如果问为什么是pc端字体是54px以及为什么是560px为分界线, 好吧,我也不知道,这个是我自己安装flexible.js模拟出来的,flexible.js 在560px以上屏幕就是html{font-size:54px}
虽然改进版不再如上面说的一句代码解决,不过也算是两句代码解决了.还是非常简单的哦,不需要任何的转化工具.

[参考](https://juejin.im/post/5ad4bcdd6fb9a028e33bedab)
