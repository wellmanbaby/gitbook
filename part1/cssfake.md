# CSS3伪类和伪元素的特性和区别

**讲在前面的话：**

**前端er们大都或多或少地接触过CSS伪类和伪元素，比如最常见的:focus,:hover以及<a>标签的:link、visited等，伪元素较常见的比如:before、:after等。**

**其实上面提到的这些伪类和伪元素都是CSS1和CSS2中的概念，CSS1和CSS2中对伪类的伪元素的区别比较模糊，甚至经常有同行将:before、:after称为伪类。CSS3对这两个概念做了相对较清晰地概念，并且在语法上也很明显的讲二者区别开。**

## 伪类

**首先看看CSS2中对伪类的定义：**

*CSS 伪类用于向某些选择器添加特殊的效果。*

看不懂吧！正常，别急


**再看看CSS3对伪类的定义：**

伪类存在的意义是为了通过选择器找到那些不存在于DOM树中的信息以及不能被常规CSS选择器获取到的信息。

伪类由一个冒号:开头，冒号后面是伪类的名称和包含在圆括号中的可选参数。

任何常规选择器可以再任何位置使用伪类。伪类语法不区别大小写。一些伪类的作用会互斥，另外一些伪类可以同时被同一个元素使用。并且，为了满足用户在操作DOM时产生的DOM结构改变，伪类也可以是动态的。

**其实第一段话就囊括CSS3伪类的全部定义了，这段话中指出CSS3伪类的功能有两种：**

1. 获取不存在与DOM树中的信息。比如<a>标签的:link、visited等，这些信息不存在于DOM树结构中，只能通过CSS伪类选择器来获取；
2. 获取不能被常规CSS选择器获取的信息。比如伪类:target，它的作用是匹配文档(页面)的URI中某个标志符的目标元素，例如我们可以通过如下代码来实现页面内的区域跳转：

```
<ul class="tabs">
    <li><a href="#tab1">标签一</a></li>
    <li><a href="#tab2">标签二</a></li>
    <li><a href="#tab3">标签三</a></li>
</ul>
<div id="tab1" class="tab_content">
<!--tabed content--></div>
<div id="tab2" class="tab_content">
<!--tabed content--></div>
<div id="tab3" class="tab_content">
<!--tabed content--></div>
```
CSS代码如下：

```
.tab_content {
  height: 800px;
  background: red;
  margin-bottom: 100px;
}
#tab1:target, #tab2:target, #tab3:target {
    background:blue;
}
```
## 伪元素 

**看看CSS2对它的定义**

*CSS 伪元素用于向某些选择器设置特殊效果。*

**我曹，尼玛，一个是给某些选择器提供特殊效果，一个是给某些选择器设置特殊效果，哥哥我看不出区别啊！别急，慢慢看**

**伪元素其实蛮少的，我列下：**

1. first-letter:向文本的第一个字母添加样式

2. first-line:向文本的首行添加特殊样式

3. before：在元素之前添加内容

4. after：在元素之后添加内容

**我们再看看CSS3中伪元素的定义：**

1. 伪元素在DOM树中创建了一些抽象元素，这些抽象元素是不存在于文档语言里的（可以理解为html源码）。比如：documen接口不提供访问元素内容的第一个字或者第一行的机制，而伪元素可以使开发者可以提取到这些信息。并且，一些伪元素可以使开发者获取到不存在于源文档中的内容（比如常见的::before,::after）。

2. 伪元素得由两个冒号::开头，然后是伪元素的名称。

3. 使用两个冒号::是为了区别伪类和伪元素（CSS2中并没有区别）。当然，考虑到兼容性，CSS2中已存的伪元素仍然可以使用一个冒号:的语法，但是CSS3中新增的伪元素必须使用两个冒号:

4. 一个选择器只能使用一个伪元素，并且伪元素必须处于选择器语句的最后。

**同样，第一段话是伪元素的清晰定义，也是伪元素与伪类最大的区别。简单来说，伪元素创建了一个虚拟容器，这个容器不包含任何DOM元素，但是可以包含内容。另外，开发者还可以为伪元素定制样式。**

**以::first-line为例，它获取了指定元素的第一行内容并且将第一行的内容加入到虚拟容器中。如果通过JavaScript来实现这个逻辑，那么要考虑的因素就太多了，比如制定元素的宽度、字体大小，甚至浮动元素的图文混排等等。当然，这些问题确实是可以用JavaScript来解决的，但是相对于::first-line简简单单的几个字，用JavaScript恐怕不止这些吧！**

## 锚伪类

**锚伪类是超链接的四种状态：**

1. 未访问状态（a:link）
2. 鼠标悬停状态（a:hover）
3. 鼠标移除（a:active）
4. 已访问状态（a:visited）